omelette tracker
================

TODO: proper readme






### dev notes ###
TODO:
-> main
-> playback
	^ test retrigger blocks
-> tracker
	^ visual delete misses the bottom row of the selection
	^ channel delete can fail to yank, not sure why
-> instruments
	^ test retaining relative instrument params after processing
	^ sample compression
	^ change away from modal preview (preview should always be bound)
-> effects

some eq10q mono plugins segfault on load, not sure why



synth1 subset/clone
[https://daichilab.sakura.ne.jp/softsynth/synmanu/readmeeng.html]
┌────────── [virtual analog] ───────────┐
│ osc1  [    ramp]  det [80]  fm   [00] │
│ osc2  [    ramp]  det [80]  ptch [ff] │
│ sub  [triangle]                       │
│ amp[00] oct[-0]                       │
│                  amplifier  gain [ff] │
│                  a[00]d[00]s[ff]r[00] │
│ lfo 1[triangle]                       │
│ --- 2[triangle]  filter    amt   [ff] │
│ dest  1[filter]  frq [00]  res   [00] │
│ ----  2[  osc2]  trk [00]  sat   [00] │
│ spd  1[80]2[80]  type          [LP12] │
│ amp  1[80]2[80]  a[00]d[00]s[ff]r[00] │
│                                       │
│ num[01]  det[00]  phase[00]  sprd[00] │
└───────────────────────────────────────┘


^v
/\
|\
n_


MACROS:
Bxx: set bpm to xx
Cxy: send a note cut at x/y through the row
Dxy: start the note at x/y through the row
Pxx: portamento to target
	xx is the portamento speed
	the note field sets the target
Mxy: channel multiplier
	x is the volume for the left channel
	y is the volume for the right channel
Rxy: s&h retrigger
	x is the number of rows the block continues to
	y is the number of slices in the block
	(y < 2) does nothing
	->	will ratchet the current point in the sample
		and continue as if nothing happened after the block
Oxx: offset
	start the triggered sample at xx 255ths through
Exy: effect mix
	x is the effect index to target
	y is the new mix (
		0 - off (instance disabled)
		1234567 - dry:      100%
				  wet:   0%-100%
		8 - dry/wet: 100%
		9abcdef - dry: 100%-  0%
				  wet:      100%
	)
	the inst field sets the target
	mix will revert to default once the row is over




Effect redesign:
* mainly use custom effects, lv2s are unportable
* should be channelwise, not instrumentwise
* all configuration should be done in the tracker
* changes should persist in channel memory
* not sure how to handle initialization when starting playback from anywhere but the beginning
* last parameter should always control a variance of "mix", 0 being completely off
* channel effect ideas:
	- band pass       bxy -MEMFLTR- x: centre      y: width (0: wide, f: narrow)
	- chorus          cxy -MEMTIME- x: lfo freq    y: gain
	- comb / flanger  fxy -MEMTIME- x: mix         y: [0-7]: fixed time  [8-f]: lfo speed
	- high pass       hxy -MEMFLTR- x: resonance   y: cutoff (0: lowest, f: highest)
	- low pass        lxy -MEMFLTR- x: resonance   y: cutoff (0: highest, f: lowest)
	- ring mod        mxy -MEMTIME- x: rate        y: mix
	- phaser (8pole)  pxy -MEMTIME- x: rate        y: mix
	- reverb          rxy -       - x: tail        y: [0]: clear buffer  [1-f]: input mix
	- saturation      sxy -       - x: input gain  y: mix
	- wavefolder      vxy -       - x: input gain  y: mix
	- waveloss        wxy -       - x: grain size  y: percent to drop
* mastering effect ideas:
	- compressor
	- limiter
	- parametric eq





vim: wrap
